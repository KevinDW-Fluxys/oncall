import { DataSourceVariable, QueryVariable } from '@grafana/scenes';

const VARIABLES = [
  // Selectable
  new DataSourceVariable({
    name: 'datasource',
    label: 'Data source',
    pluginId: 'prometheus',
  }),
  new QueryVariable({
    name: 'instance',
    label: 'Instance',
    text: ['All'],
    value: ['$__all'],
    datasource: { uid: '$datasource' },
    definition: 'label_values(${alert_groups_total},slug)',
    hide: 0,
    includeAll: true,
    isMulti: true,
    options: [],
    query: {
      query: 'label_values(${alert_groups_total},slug)',
      refId: 'PrometheusVariableQueryEditor-VariableQuery',
    },
    refresh: 1,
    regex: '',
    skipUrlSync: false,
    sort: 0,
    type: 'query',
  }),
  new QueryVariable({
    name: 'team',
    label: 'Team',
    text: ['All'],
    value: ['$__all'],
    datasource: { uid: '$datasource' },
    definition: 'label_values(${alert_groups_total}{slug=~"$instance"},team)',
    hide: 0,
    includeAll: true,
    isMulti: true,
    options: [],
    query: {
      query: 'label_values(${alert_groups_total}{slug=~"$instance"},team)',
      refId: 'PrometheusVariableQueryEditor-VariableQuery',
    },
    refresh: 2,
    regex: '',
    skipUrlSync: false,
    sort: 0,
    type: 'query',
  }),
  new QueryVariable({
    name: 'integration',
    label: 'Integration',
    text: ['All'],
    value: ['$__all'],
    datasource: { uid: '$datasource' },
    definition: 'label_values(${alert_groups_total}{team=~"$team",slug=~"$instance"},integration)',
    hide: 0,
    includeAll: true,
    isMulti: true,
    options: [],
    query: {
      query: 'label_values(${alert_groups_total}{team=~"$team",slug=~"$instance"},integration)',
      refId: 'PrometheusVariableQueryEditor-VariableQuery',
    },
    refresh: 2,
    regex: '',
    skipUrlSync: false,
    sort: 0,
    type: 'query',
  }),

  // Non-Selectable
  new QueryVariable({
    name: 'alert_groups_total',
    label: 'alert_groups_total',
    datasource: { uid: '$datasource' },
    query: {
      query: 'metrics(alert_groups_total)',
      refId: 'PrometheusVariableQueryEditor-VariableQuery',
    },
    text: ['oncall_alert_groups_total', 'grafanacloud_oncall_instance_alert_groups_total'],
    value: ['oncall_alert_groups_total', 'grafanacloud_oncall_instance_alert_groups_total'],
    definition: 'metrics(alert_groups_total)',
    hide: 2,
    includeAll: false,
    isMulti: true,
    options: [],
    refresh: 1,
    regex: '',
    skipUrlSync: false,
    sort: 0,
    type: 'query',
  }),
  new QueryVariable({
    name: 'user_was_notified_of_alert_groups_total',
    label: 'user_was_notified_of_alert_groups_total',
    datasource: { uid: '$datasource' },
    definition: 'metrics(user_was_notified_of_alert_groups_total)',
    hide: 2,
    includeAll: false,
    isMulti: false,
    options: [],
    query: {
      query: 'metrics(user_was_notified_of_alert_groups_total)',
      refId: 'PrometheusVariableQueryEditor-VariableQuery',
    },
    refresh: 2,
    regex: '',
    skipUrlSync: false,
    sort: 0,
    type: 'query',
  }),
  new QueryVariable({
    name: 'alert_groups_response_time_seconds_bucket',
    label: 'alert_groups_response_time_seconds_bucket',
    datasource: { uid: '$datasource' },
    definition: 'metrics(alert_groups_response_time_seconds_bucket)',
    hide: 2,
    includeAll: false,
    isMulti: false,
    options: [],
    query: {
      query: 'metrics(alert_groups_response_time_seconds_bucket)',
      refId: 'PrometheusVariableQueryEditor-VariableQuery',
    },
    refresh: 1,
    regex: '',
    skipUrlSync: false,
    sort: 0,
    type: 'query',
  }),
  new QueryVariable({
    name: 'alert_groups_response_time_seconds_sum',
    label: 'alert_groups_response_time_seconds_sum',
    datasource: { uid: '$datasource' },
    definition: 'metrics(alert_groups_response_time_seconds_sum)',
    hide: 2,
    includeAll: false,
    isMulti: false,
    options: [],
    query: {
      query: 'metrics(alert_groups_response_time_seconds_sum)',
      refId: 'PrometheusVariableQueryEditor-VariableQuery',
    },
    refresh: 1,
    regex: '',
    skipUrlSync: false,
    sort: 0,
    type: 'query',
  }),
  new QueryVariable({
    name: 'alert_groups_response_time_seconds_count',
    label: 'alert_groups_response_time_seconds_count',
    datasource: { uid: '$datasource' },
    definition: 'metrics(alert_groups_response_time_seconds_count)',
    hide: 2,
    includeAll: false,
    isMulti: false,
    options: [],
    query: {
      query: 'metrics(alert_groups_response_time_seconds_count)',
      refId: 'PrometheusVariableQueryEditor-VariableQuery',
    },
    refresh: 1,
    regex: '',
    skipUrlSync: false,
    sort: 0,
    type: 'query',
  }),
];

export default VARIABLES;
